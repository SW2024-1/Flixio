<h1>商品一覧</h1>
<div class="search_form">
  <%= form_with url: search_results_path, local: true, method: :get do |f| %>
    <%= f.text_field :word %>
    <%= f.select :search, options_for_select([["完全一致","perfect_match"], ["前方一致","forward_match"],  ["後方一致","backward_match"], ["部分一致","partial_match"]]) %>
    <%= f.submit "検索", class: "btn btn-primary" %>
  <% end %>
</div>
<br></br>

<div style="display: flex; flex-wrap: wrap;">
  <% @products.each do |e| %>
    <div style="margin-right: 20px; text-align: center;">
    <!-- サムネイル画像をクリックすると動画ページへ遷移 -->
      <% if e.thumbnail.attached? %>
        <%= link_to product_path(e) do %>
          <%= image_tag e.thumbnail, class: "thumbnail", style: "max-width: 200px;" %>
        <% end %>
      <% else %>
        <%= image_tag 'hiyoko.png', style: "max-width: 200px;" %> <!-- デフォルトサムネイル -->
      <% end %>      
      <%= link_to '削除', product_path(e), data: { turbo_method: :delete } %>
      <%= link_to 'リストに追加', new_listitem_path(product_id: e.id) %>
      <%= link_to '購入', new_buyitem_path(product_id: e.id) %>
    </div>
  <% end %>
</div>



<%= link_to "新規追加", new_product_path %><br>
<%= link_to "ログアウト", top_logout_path %><br>
<%= link_to "視聴履歴を見る", watch_history_user_path(current_user) %><br>
<%= link_to '再生リスト', list_path(current_list.id) %><br>
<%= link_to '購入リスト', buys_path(current_list.id) %><br>
